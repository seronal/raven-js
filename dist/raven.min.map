{"version":3,"file":"raven-js.min.js","sources":["raven-js.js"],"names":["window","undefined","triggerEvent","eventType","options","event","key","substr","toUpperCase","document","createEvent","initEvent","createEventObject","hasKey","dispatchEvent","fireEvent","toLowerCase","e","RavenConfigError","message","this","name","parseDSN","str","m","dsnPattern","exec","dsn","i","dsnKeys","length","isUndefined","what","isFunction","isString","isObject","isEmptyObject","k","isError","objectPrototype","toString","call","Error","object","hasOwnProperty","each","obj","callback","j","handleStackInfo","stackInfo","frames","stack","frame","normalizeFrame","push","processException","url","lineno","normalized","filename","line","colno","column","function","func","context","extractContextFromFrame","keys","in_app","globalOptions","includePaths","test","fetchContext","pivot","isMinified","slice","type","fileurl","stacktrace","label","ignoreErrors","reverse","truncate","maxMessageLength","ignoreUrls","whitelistUrls","send","objectMerge","exception","value","culprit","obj1","obj2","max","now","Date","getHttpData","http","location","href","headers","User-Agent","navigator","userAgent","referrer","Referer","data","isSetup","project","globalProject","logger","platform","request","tags","extra","session:duration","startTime","globalUser","user","dataCallback","shouldSendCallback","lastEventId","event_id","uuid4","makeRequest","globalTransport","globalServer","hasJSON","logDebug","joinRegExp","patterns","pattern","sources","len","replace","source","RegExp","join","c","r","Math","random","v","level","console","Raven","debug","initializeGlobals","JSON","stringify","lastCapturedException","globalKey","globalTransports","default","HTTPGetTransport","collectWindowErrors","authQueryString","afterLoad","RavenConfig","config","install","TraceKit","remoteFetching","linesOfContext","_slice","UNKNOWN_FUNCTION","wrap","wrapped","apply","arguments","report","subscribe","handler","installGlobalHandler","handlers","unsubscribe","splice","unsubscribeAll","uninstallGlobalHandler","notifyHandlers","isWindowError","concat","inner","traceKitWindowOnError","lineNo","colNo","ex","lastExceptionStack","computeStackTrace","augmentStackTraceWithInitialElement","processLastException","guessFunctionName","gatherContext","_oldOnerrorHandler","_onErrorHandlerInstalled","onerror","_lastExceptionStack","_lastArgs","lastArgs","lastException","rethrow","args","setTimeout","incomplete","uninstall","loadSource","getXHR","XMLHttpRequest","ActiveXObject","open","responseText","getSource","sourceCache","indexOf","domain","split","reFunctionArgNames","reGuessFunction","maxLines","linesBefore","floor","linesAfter","start","end","min","escapeRegExp","text","escapeCodeAsRegExpForMatchingInsideHTML","body","findSourceInUrls","re","urls","substring","index","lastIndexOf","findSourceInLine","fragment","findSourceByFunctionBody","parts","result","scripts","getElementsByTagName","code","codeRE","eventRE","script","src","computeStackTraceFromStackProp","element","chrome","gecko","lines","reference","columnNumber","computeStackTraceFromStacktraceProp","testRE","exc","computeStackTraceFromOperaMultiLineMessage","lineRE1","lineRE2","lineRE3","inlineScriptBlocks","item","relativeLine","pos","innerText","midline","initial","unshift","partial","computeStackTraceByWalkingCallerChain","depth","functionName","funcs","recursion","curr","caller","description","sourceURL","fileName","lineNumber","setup","pass","endpoint","img","Image","getAuthQueryString","encodeURIComponent","onload","onabort","cachedAuth","qs","VERSION","_Raven","isRavenInstalled","Object","prototype","noConflict","uri","lastSlash","path","host","port","protocol","transport","registerTransport","deep","captureException","__raven__","property","__inner__","reset","captureMessage","ex1","msg","setUserContext","setExtraContext","setTagsContext","setUser","constructor","define","amd","module","exports"],"mappings":"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"}